(function(e){"use strict";if("undefined"==typeof sigma)throw"sigma.renderers.snapshot: sigma not in scope.";var a=this.URL||this.webkitURL||this;function u(e,t){var s=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),r={};r.anchor=document.createElement("a"),r.anchor.setAttribute("href",a.createObjectURL(s)),r.anchor.setAttribute("download",t);var i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.revokeObjectURL(s),r.anchor.dispatchEvent(i),delete r.anchor}var h="1000",g="graph.svg";sigma.prototype.toSVG=function(e){e=e||{};var t=this.settings("classPrefix"),s=e.size||e.width||h,r=e.size||e.height||h;(c=document.createElement("div")).setAttribute("width",s),c.setAttribute("height",r),c.setAttribute("style","position:absolute; top: 0px; left:0px; width: "+s+"px; height: "+r+"px;");var i=this.addCamera(),a=this.addRenderer({camera:i,container:c,type:"svg",forceLabels:!!e.labels});a.resize(s,r),this.refresh(),this.killRenderer(a),this.killCamera(i);var o,l=c.querySelector("svg");l.removeAttribute("style"),l.setAttribute("width",s+"px"),l.setAttribute("height",r+"px"),l.setAttribute("x","0px"),l.setAttribute("y","0px"),e.labels||(o=l.querySelector('[id="'+t+'-group-labels"]'),l.removeChild(o));var n=l.querySelector('[id="'+t+'-group-hovers"]');l.removeChild(n),e.classes=!1!==e.classes,e.data&&!e.classes||function(e,t,s){var r,i,a={},o={},l=0,n="";s.classes&&((i=document.createElementNS("http://www.w3.org/2000/svg","style")).setAttribute("type","text/css"),e.insertBefore(i,e.firstChild));for(var c=e.querySelectorAll('[id="'+t+'-group-nodes"] > [class="'+t+'-node"]'),d=0,u=c.length,h=!0;d<u;d++)r=c[d].getAttribute("fill"),s.data||c[d].removeAttribute("data-node-id"),s.classes&&(r in a||(a[r]=h?t+"-node":"c-"+l++,n+="."+a[r]+"{fill: "+r+"}"),a[r]!==t+"-node"&&c[d].setAttribute("class",c[d].getAttribute("class")+" "+a[r]),c[d].removeAttribute("fill")),h=!1;var g=e.querySelectorAll('[id="'+t+'-group-edges"] > [class="'+t+'-edge"]');for(d=0,u=g.length,h=!0;d<u;d++)r=g[d].getAttribute("stroke"),s.data||g[d].removeAttribute("data-edge-id"),s.classes&&(r in o||(o[r]=h?t+"-edge":"c-"+l++,n+="."+o[r]+"{stroke: "+r+"}"),o[r]!==t+"-edge"&&g[d].setAttribute("class",g[d].getAttribute("class")+" "+o[r]),g[d].removeAttribute("stroke")),h=!1;s.classes&&i.appendChild(document.createTextNode(n))}(l,t,e);var c=null,d='<?xml version="1.0" encoding="utf-8"?>\n';return d+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n',d+=l.outerHTML,e.download&&u(d,e.filename||g),d}}).call(this);